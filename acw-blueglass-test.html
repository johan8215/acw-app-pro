<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ACW-App v4.6.7 Test (Blue Glass)</title>
<style>
body {
  font-family: "SF Pro Display", "Segoe UI", sans-serif;
  background: radial-gradient(circle at 50% 20%, #001a33, #000814);
  color: #eaf3ff;
  text-align: center;
  padding: 40px;
}
input, button {
  padding: 10px;
  border-radius: 8px;
  border: none;
  margin: 6px;
  font-size: 16px;
}
button {
  background: linear-gradient(90deg, #0055ff, #66aaff);
  color: white;
  cursor: pointer;
}
#diag { margin-top: 10px; color: #ffb3b3; font-family: monospace; }
</style>
</head>
<body>

<h2>üîπ ACW-App v4.6.7 ‚Äî Blue Glass Test</h2>
<p><b>Backend:</b><br><span id="backend">loading‚Ä¶</span></p>

<input id="email" type="email" placeholder="Email"><br>
<input id="password" type="password" placeholder="Password"><br>
<button onclick="login()">üîê Login Test</button>

<p id="diag"></p>

<script>
const BASE_URL = "https://script.google.com/macros/s/AKfycbzI9UgpoA11o662UJ7zlVCCJjBcsb8mMB0GyGS4t8Ab0ttf53S9J78ksu1kX94ULP6r/exec";

// Check backend first
(async ()=>{
  try{
    const r = await fetch(BASE_URL + "?action=ping");
    const t = await r.text();
    document.getElementById("backend").textContent = "‚úÖ Connected ‚Üí " + t;
  }catch(e){
    document.getElementById("backend").textContent = "‚ùå Connection failed";
  }
})();

async function login(){
  const email = document.getElementById("email").value.trim().toLowerCase();
  const pass  = document.getElementById("password").value.trim();
  const diag  = document.getElementById("diag");
  diag.textContent = "‚è≥ Testing...";
  if(!email || !pass){ diag.textContent = "‚ö†Ô∏è Missing fields"; return; }

  try{
    const res = await fetch(`${BASE_URL}?action=login&email=${encodeURIComponent(email)}&password=${encodeURIComponent(pass)}`);
    const txt = await res.text();
    diag.textContent = "Raw: " + txt;
  }catch(err){
    diag.textContent = "‚ùå Connection error: " + err.message;
  }
}
</script>
</body>
</html>