/* =========================================================
   ACW-App — Blue Glass White Theme (v5.6.x)
   Johan (JAG15) & Sky — Nov 2025
   ========================================================= */

/* ---------- Tokens ---------- */
:root{
  --bg-deep-1: radial-gradient(1000px 800px at 30% 20%, #0c2b55 0%, #081a33 40%, #071425 70%, #050e1b 100%) fixed,
               linear-gradient(135deg, #0e2a59 0%, #092041 100%) fixed;
  --glass: rgba(255,255,255,0.08);
  --glass-strong: rgba(255,255,255,0.12);
  --glass-bg: rgba(255,255,255,0.06);
  --txt: #eaf3ff;
  --txt-dim: #bcd0f4;
  --txt-muted: #9bb3db;
  --accent: #0078ff;
  --accent-2:#33a0ff;
  --ok:#00c851;
  --warn:#ffbb33;
  --err:#ff4444;
  --ink:#1a2744;
  --shadow: 0 20px 45px rgba(0,0,0,.45);
  --shadow-soft: 0 12px 28px rgba(0,0,0,.35);
  --radius: 14px;
  --radius-lg: 18px;
  --bd: 1px solid rgba(255,255,255,.14);
}

/* ---------- Base ---------- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--txt);
  background: var(--bg-deep-1);
  background-blend-mode: overlay, normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a{ color: var(--accent); text-decoration: none; }
a:hover{ text-decoration: underline; }

/* ---------- Containers / Cards ---------- */
.container, #welcome .card, #login .card{
  max-width: 760px;
  margin: 48px auto;
  padding: 24px 28px;
  background: var(--glass-bg);
  border: var(--bd);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}

/* ---------- Login ---------- */
#login{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height: 100vh;
}
#login .card{
  width:min(92%, 520px);
  text-align:center;
}
#login h1{
  margin:0 0 12px 0;
  font-weight:800;
  letter-spacing:.4px;
  text-shadow:0 0 18px rgba(0,120,255,.35);
}
#login p#diag{
  margin:10px 0 18px 0;
  color: var(--txt-muted);
  min-height: 20px;
}
.input{
  width:100%;
  padding:12px 14px;
  margin:8px 0;
  border-radius: 12px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.08);
  color:var(--txt);
  outline:none;
}
.input::placeholder{ color:#9db3da; }

.btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:8px;
  padding:10px 16px;
  border-radius: 12px;
  border:1px solid rgba(255,255,255,.2);
  background: linear-gradient(135deg, #007bff, #33a0ff);
  color:#fff; font-weight:700; cursor:pointer;
  box-shadow: 0 10px 20px rgba(0,120,255,.35);
  transition: transform .12s ease, box-shadow .25s ease, opacity .2s ease;
}
.btn:disabled{ opacity:.6; cursor:not-allowed; }
.btn:hover{ transform: translateY(-1px); box-shadow: 0 14px 28px rgba(0,120,255,.45); }
.btn.secondary{
  background: rgba(255,255,255,.1);
  border-color: rgba(255,255,255,.22);
  color:#dfeafe;
}

/* ---------- Welcome header ---------- */
#welcome{
  display:none;
  width:min(980px, 92%);
  margin: 40px auto;
}
#welcome .hero{
  position:relative;
  padding: 22px 24px;
  background: rgba(255,255,255,.07);
  border: var(--bd);
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
}
#welcomeName{
  font-size: 28px;
  font-weight: 800;
  letter-spacing:.3px;
  margin:0;
  text-shadow:0 0 14px rgba(0,120,255,.35);
}
#welcomeRole{
  color: var(--txt-muted);
  margin: 6px 0 0 0;
}
.user-phone a{ font-weight:700; }

/* ---------- Schedule table ---------- */
#schedule{
  margin-top: 20px;
  background: rgba(255,255,255,.05);
  border: var(--bd);
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
  overflow:hidden;
}
#schedule table{
  width:100%;
  border-collapse: collapse;
  font-size: 15px;
}
#schedule th, #schedule td{
  padding: 10px 12px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
#schedule th{
  background: rgba(255,255,255,.06);
  color:#d9e7ff;
  text-align:left;
  font-weight:800;
}
#schedule tr:hover td{
  background: rgba(255,255,255,.04);
}
#schedule tr.today td{
  background: rgba(0,120,255,.12);
  border-bottom-color: rgba(0,120,255,.25);
}
#schedule .total{
  margin: 12px;
  font-weight:600;
  color:#d9e7ff;
}
.live-hours{ margin: 0 12px 12px 12px; }

/* ---------- Floating buttons ---------- */
.team-btn{
  position: fixed;
  right: 24px;
  top: 24px;
  z-index: 9999;
  padding:10px 16px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.22);
  background: linear-gradient(135deg,#00c6ff,#0072ff);
  color:#fff; font-weight:800; box-shadow:0 10px 24px rgba(0,120,255,.45);
  cursor:pointer;
}
.team-btn:hover{ transform: translateY(-1px); }

/* ---------- Directory / Team View ---------- */
.directory-wrapper.tv-wrapper{
  /* el JS inyecta posición, solo afinamos look */
  border: var(--bd);
  color: var(--ink);
}
.tv-head h3{
  color: var(--accent);
  font-weight:800;
}
.tv-nav{
  background: rgba(0,120,255,.08);
  border:1px solid rgba(0,120,255,.35);
  color: var(--accent);
  padding: 6px 10px;
  border-radius: 10px;
  cursor:pointer;
}
.tv-nav:disabled{ opacity:.5; cursor:not-allowed; }
.directory-table, .tv-table{
  width:100%;
  border-collapse: collapse;
  margin-top: 6px;
}
.tv-table th, .tv-table td{
  padding: 10px 12px;
  border-bottom: 1px solid rgba(0,0,0,.06);
}
.open-btn{
  padding:6px 10px;
  border-radius:10px;
  border:1px solid rgba(0,120,255,.35);
  background:#fff;
  color:#0a53b5;
  font-weight:700; cursor:pointer;
}
#directoryWrapper.show{ box-shadow: 0 30px 60px rgba(0,120,255,.35); }

/* ---------- Employee Modal ---------- */
.employee-modal{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.45);
  display:flex; align-items:center; justify-content:center;
  z-index: 10000;
  animation: fadeIn .18s ease;
}
.emp-panel .emp-box{
  width:min(92%, 760px);
  background: #fff;
  color: #0f223f;
  border-radius: var(--radius-lg);
  box-shadow: 0 30px 70px rgba(0,0,0,.35);
  padding: 18px 18px 20px;
  position: relative;
}
.emp-close{
  position:absolute; right: 12px; top: 10px;
  border:0; background:transparent; font-size: 22px; cursor:pointer;
}
.emp-header h3{ margin:4px 0 4px 0; font-size:22px; font-weight:800; color:#0d3a85; }
.emp-phone a{ color:#0d6efd; font-weight:700; }
.emp-role{ margin:2px 0 10px 0; color:#6a7da7; }

.schedule-mini{
  width:100%;
  border-collapse: collapse;
  background: #f9fbff;
  border:1px solid #e9f0ff;
  border-radius: 10px;
  overflow:hidden;
}
.schedule-mini th, .schedule-mini td{
  padding: 9px 10px;
  border-bottom: 1px solid #e9f0ff;
  font-size: 14px;
}
.schedule-mini th{
  background:#f2f7ff; color:#0b2f6f; text-align:left; font-weight:800;
}
.schedule-mini tr:last-child td{ border-bottom: 0; }
.schedule-mini td[contenteditable="true"]{
  background:#fff; outline: none; border-radius:6px;
  box-shadow: inset 0 0 0 1px #e9f0ff;
}
.emp-actions{ display:flex; flex-wrap:wrap; gap:8px; }
.emp-actions .btn-update,
.emp-actions .btn-today,
.emp-actions .btn-tomorrow,
.emp-actions .btn-history{
  padding:8px 12px; border-radius:10px; border:1px solid #dbe7ff;
  background:#fff; color:#0a53b5; font-weight:700; cursor:pointer;
}
.emp-actions .btn-history{ background:#f5fbff; border-color:#b6e7ff; color:#0078ff; }
.emp-refresh{
  border:1px solid #dbe7ff; background:#fff; color:#0a53b5;
  padding:6px 10px; border-radius:10px; cursor:pointer;
}
.emp-status-msg{ color:#0b2f6f; }

/* ---------- History (5 weeks) Modal ---------- */
.history-modal{
  position: fixed; inset: 0; z-index: 10001;
  display:flex; align-items:center; justify-content:center;
  background: rgba(0,0,0,.45);
  animation: fadeIn .18s ease;
}
.hm-content{
  width:min(92%, 820px);
  background:#ffffff;
  color:#0f223f;
  border-radius: 16px;
  box-shadow: 0 28px 70px rgba(0,0,0,.35);
  padding: 18px 20px 20px;
  position:relative;
}
.hm-close{
  position:absolute; right:12px; top:10px;
  background:none; border:0; font-size:22px; cursor:pointer;
}
.hm-body{ max-height: 68vh; overflow:auto; padding-right:6px; }
.hm-row{
  background:#f9fbff;
  border:1px solid #e6eefc;
  border-radius: 12px;
  padding: 10px 12px;
  margin: 10px 0;
}
.hm-table{ width:100%; border-collapse: collapse; }
.hm-table th, .hm-table td{
  padding:6px 8px; border-bottom:1px solid #e6eefc; font-size:14px;
}
.hm-table th{ background:#f2f7ff; text-align:left; color:#0d3a85; font-weight:800; }
.hm-table tr:last-child td{ border-bottom:0; }

/* ---------- Settings & Change Password Modals ---------- */
#settingsModal, #changePasswordModal{
  position: fixed; inset:0; z-index: 10002; display:none;
  align-items:center; justify-content:center;
  background: rgba(0,0,0,.45);
}
#settingsModal .modal-card,
#changePasswordModal .modal-card{
  width:min(92%, 520px);
  background:#fff; color:#0f223f;
  border-radius: 14px; padding:18px 20px;
  box-shadow: 0 28px 70px rgba(0,0,0,.35);
}
#changePasswordModal.show{ display:flex; }

/* ---------- Toasts ---------- */
#toastContainer{ pointer-events:none; }
.acw-toast{
  pointer-events:auto;
  border-radius: 10px;
  min-width: 220px;
}

/* ---------- Small helpers ---------- */
.hidden{ display:none !important; }
.fade-out{ opacity:0; transform: scale(.98); transition: all .22s ease; }
.flash{ animation: flash .6s ease; }

/* ---------- Responsive ---------- */
@media (max-width: 640px){
  #welcomeName{ font-size: 24px; }
  .team-btn{ right: 16px; top: 16px; }
  .emp-panel .emp-box{ padding:14px; }
  .hm-content{ padding:14px; }
  #schedule th, #schedule td{ padding: 8px 10px; }
}

/* ---------- Keyframes ---------- */
@keyframes fadeIn{
  from{ opacity:0 } to{ opacity:1 }
}
@keyframes flash{
  0%{ box-shadow: 0 0 0 rgba(0,120,255,0); }
  50%{ box-shadow: 0 0 30px rgba(0,120,255,.45); }
  100%{ box-shadow: 0 0 0 rgba(0,120,255,0); }
}
